<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->

<!--
    var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function() {
        if (xhttp.readyState == 4 && xhttp.status == 200) {
            parseXML(xhttp);
        }
    };
    xhttp.open("GET", "cd_catalog.xml", true);
    xhttp.send();
-->

<html lang="en">
<head>
  <meta charset="utf-8">
  <title>parseXML demo</title>
</head>

<body>   
<script>  
var mpdUrl = "http://localhost:8000/BigBuckBunny_10s_isoffmain_DIS_23009_1_v_2_1c2_2011_08_30.mpd";
var mpdJSON = null;
import ServiceBus from "./utils/ServiceBus.js";
var MPDRetriever = require("./DashMPDRetriever.js").MPDRetriever;
var MPDParser = require("./DashMPDParser.js").MPDParser;
 
//mpdJSON = DashMPDRetriever.getMPD(url);

var mpdParser = new MPDParser;
var mpdRetriever = new MPDRetriever({mpdUrl: mpdUrl});
mpdRetriever.getMPD();



// TODO: page with default mediaplayer served for testing, refactor

var videoLauncher = function () {
  ServiceBus.subscribe("Video-incoming", this.launchVideo, "Video launcher");
};

videoLauncher.prototype = {
  launchVideo: function (message) {

    console.log('Server is listening to http://localhost/ on port 8080â€¦');   
  }
};

new videoLauncher;
    


</script>
 
</body>
</html>