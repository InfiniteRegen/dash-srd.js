<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->


<html lang="en">
<head>
  <meta charset="utf-8">
  <title>parseXML demo</title>
  
  <script src="../externals/require.js"></script>
  <script>
      
  // var ServiceBus = require("./utils/ServiceBus.js");
  // var MPDRetriever = require("./DashMPDRetriever.js").MPDRetriever;
  // var MPDParser = require("./DashMPDParser.js").MPDParser;
  
  require.config({
    baseUrl: '/',
    paths: {
        "ServiceBus": "src/dash/utils/ServiceBus",
        "MPDRetriever": "src/dash/DashMPDRetriever",
        "MPDParser": "src/dash/DashMPDParser",
        "xml2json": "externals/xml2json"
    }
  });
    
  // var ServiceBus = require('ServiceBus');
  
  /*require(['ServiceBus'], function (ServiceBus) {
    //ServiceBus.subscribe('Test', 'test',  'index');
    var testVar = 'test';
  });
  
  alert(testVar); 
 
  require(['MPDRetriever'], function (MPDRetriever) {
    alert("Succes");
  });
  
  require(['MPDParser'], function (MPDParser) {
    alert("Succes");
  }); */
  
  function openVideo (){
      var mpdURL = document.getElementById('MPD_URL').value;
     
      // var serviceBus = new ServiceBus;
      
      // serviceBus.subscribe('Test', 'test', 'test')
      
      
      /*
      require(['MPDParser'], function () {
        var mpdParser = new MPDParser;
        
      });   */   
      
      require(['MPDRetriever'], function () {
        var mpdRetriever = new MPDRetriever({mpdURL: mpdURL});
        mpdRetriever.getMPD();
      });
      


  } 
      
  </script>
</head>

<body>       
<div>
</div>

<input type="text" id="MPD_URL" style="width: 400px;">
<input type="submit" name="Open video" id="mpdButton" onclick="openVideo()" value="Open video" />
 
</body>
</html>